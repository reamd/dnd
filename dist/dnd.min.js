"use strict";!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.Dnd=t()}("undefined"!=typeof window?window:this,function(){function e(e){var t=void 0!==e.clientY?e.clientY:e.touches[0].clientY,n=void 0!==e.clientX?e.clientX:e.touches[0].clientX;s.style.top=t-c+"px",s.style.left=n-d+"px"}function t(t){document.body.removeEventListener(u.mouseEvent[1],e,!1),u.options.clone?s.addEventListener(u.mouseEvent[0],n,!1):s.style.zIndex=""}function n(e){(s=this).style.zIndex=999,document.body.removeEventListener(u.mouseEvent[2],t,!1),document.body.removeEventListener(u.mouseEvent[2],i,!1),document.body.addEventListener(u.mouseEvent[1],o,!1),document.body.addEventListener(u.mouseEvent[2],i,!1)}function o(e){var t=void 0!==e.clientY?e.clientY:e.touches[0].clientY,n=void 0!==e.clientX?e.clientX:e.touches[0].clientX,o=t-c,i=n-d;s.style.top=o+"px",s.style.left=i+"px"}function i(e){s.style.zIndex="",document.body.removeEventListener(u.mouseEvent[1],o,!1)}var s,d,c,u={options:{},mouseEvent:!navigator.userAgent.match(/(iPhone|iPad|Android|ios)/i)?["mousedown","mousemove","mouseup"]:["touchstart","touchmove","touchend"],setConfig:function(e){var t,n;for(t in e)void 0!==(n=e[t])&&e.hasOwnProperty(t)&&(this.options[t]=n);return this},dealOpts:function(){var e=this.options;this.options.clone=!!e.clone,this.options.container=void 0===e.container?"body":e.container},bindMouseEvent:function(){for(var n,o,i=this.options.items,u=this.options.clone,r=document.querySelector(this.options.container),l=this.options.subContainer,v=this.options.drags,p=this,h=0,m=i.length;h<m;h++)!function(h){i[h].dom.addEventListener(p.mouseEvent[0],function(m){var a,y,f;u?(s=this.cloneNode(!0),void 0!==i[h].dragType&&(s.setAttribute("dragType",i[h].dragType),s.setAttribute("class",v[i[h].dragType].className)),s.setAttribute("id",(new Date).getTime()),l?r.querySelector(l).appendChild(s):r.appendChild(s),a=s.getBoundingClientRect(),d=a.width/2,c=a.height/2,o=void 0!==m.clientY?m.clientY:m.touches[0].clientY,n=void 0!==m.clientX?m.clientX:m.touches[0].clientX,y=o-c+"px",f=n-d+"px"):((s=this).style.zIndex=999,a=s.getBoundingClientRect(),d=a.width/2,c=a.height/2,y=a.top+"px",f=a.left+"px"),s.style.position="fixed",s.style.top=y,s.style.left=f,document.body.removeEventListener(p.mouseEvent[2],t,!1),document.body.addEventListener(p.mouseEvent[1],e,!1),document.body.addEventListener(p.mouseEvent[2],t,!1)})}(h);return this},init:function(e){this.setConfig(e),this.bindMouseEvent()}};return u});